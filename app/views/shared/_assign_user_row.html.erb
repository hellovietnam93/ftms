<%= f.fields_for :user_courses, user_courses_handler do |user_course_builder| %>
  <tr>
    <td class="assign-checkbox">
      <%= user_course_builder.check_box :_destroy,
        {
          checked: assigned_user_ids.include?(user_course_builder.object.user_id) &&
            !user_course_builder.object.deleted?
        }, false, true %>
      <%= user_course_builder.hidden_field :user_id,
        value: user_course_builder.object.user_id %>
      <%= user_course_builder.hidden_field :id,
        value: user_course_builder.object.id %>
      <%= user_course_builder.hidden_field :deleted_at, value: nil %>
    </td>
    <td><%= user_course_builder.object.user.name %></td>
    <td><%= user_course_builder.object.user.email %></td>
  </tr>
<% end %>
